#!/bin/sh
usage="Usage: ./configure PREFIX DESTDIR\n\nPREFIX - prefix directory (mostly /usr)\nDESTDIR - destination directory (mostly /)\n\nExample: ./configure /usr /"

if [ ! -z $3 ]; then
	echo "ERROR: Too many parameters!"
	echo
	echo -e $usage
	exit
fi

if [ -z $2 ]; then
	if [ ! -z $1 ]; then
		if [ $1 = "--help" ]; then
			echo -e $usage
			exit
		fi
	fi
	if [ ! -z $1 ]; then
		echo "ERROR: Two or no parameters needed!"
		echo
		echo -e $usage
		exit
	fi
fi

if [ ! -e $1 ]; then
	echo "WARNING: directory '$1' does not exist!"
fi

if [ ! -e $2 ]; then
	echo "WARNING: directory '$2' does not exist!"
fi

echo "DO NOT MODIFY THIS FILE! IF YOU DO, STJERM CAN BE INSTALLED IN A WRONG PLACE!" > install-settings
if [ -z $1 ]; then
	echo "/usr" >> ./install-settings
	echo "/" >> ./install-settings
	echo "Using default settings: prefix=/usr destdir=/"
fi
echo $1 >> ./install-settings
echo $2 >> ./install-settings
